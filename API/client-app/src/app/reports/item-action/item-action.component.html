<div class="row" mat-dialog-title>
  <h1 translate>Item Actions Report</h1>

  <button *ngIf="(items$ | async) != null" printTitle="Item Actions Report"
          printSectionId="print-section"
          ngxPrint>
    {{"Print" | translate}}
  </button>
</div>
<form *ngIf="(items$ | async) == null" [formGroup]="reportForm" (ngSubmit)="onFormSubmit()">
  <div mat-dialog-content class="content">
    <div class="row">
      <mat-form-field appearance="outline">
        <mat-label translate>PartNumber</mat-label>
        <input matInput type="text" placeholder="Ex. Part Number" formControlName="partNumber">
      </mat-form-field>


      <mat-form-field appearance="outline">
        <mat-label translate>From</mat-label>
        <input matInput [matDatepicker]="picker" placeholder="Choose from date" formControlName="from">
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label translate>To</mat-label>
        <input matInput [matDatepicker]="picker1" placeholder="Choose to date" formControlName="to">
        <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
        <mat-datepicker #picker1></mat-datepicker>
      </mat-form-field>


      <div mat-dialog-actions class="action">
        <button mat-raised-button color="primary" type="submit">{{"Generate" | translate}}</button>
      </div>
    </div> 
  </div>
</form>


<div id="print-section" >
  <table  border=1 frame=hsides  rules=rows class="center" *ngIf="(items$ | async) as it">
    <tr>
      <th translate>Brand</th>
      <th translate>Add Voucher</th>
      <th translate>CreatedAt</th>
      <th translate>CreatedBy</th>
      <th translate>Customer</th>
      <th translate>Description</th>
      <th translate>Engineer</th>
      <th translate>ItemStatus</th>
      <th translate>Model</th>
      <th translate>OracleCode</th>
      <th translate>ActionDate</th>
      <th translate>PartNumber</th>
      <th translate>SerialNumber</th>
      <th translate>Warehouse</th>
    </tr>

    <tr *ngFor="let val of it">
      <td>{{val.brand}}</td>
      <td>{{val.addVoucher}}</td>
      <td>{{val.created | date}}</td>
      <td>{{val.createdBy}}</td>

      <td>{{val.customer}}</td>
      <td>{{val.description}}</td>
      <td>{{val.engineer}}</td>
      <td>{{status[val.itemStatus]}}</td>
      <td>{{val.model}}</td>
      <td>{{val.oracleCode}}</td>
      <td>{{val.orderDate | date}}</td>
      <td>{{val.partNumber}}</td>
      <td>{{val.serialNumber}}</td>
      <td>{{val.warehouse}}</td>
    </tr>

  </table>
  </div>
